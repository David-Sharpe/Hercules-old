%html{'ng-app': 'ResistanceExercise'}
  %head
    = javascript_include_tag "resistance_exercises.js"
	
  %body
    %h1 Listing resistance_exercises

    %form{name: 'resistanceForm', 'ng-controller': 'ResistanceWorkoutsController as resistanceWorkout', novalidate: true}
      %select{'name': 'selected_workout', 'ng-model': 'resistanceWorkout.selected_workout', 'ng-options': 'workout.id for workout in resistanceWorkout.workouts track by workout.id', 'ng-change': 'resistanceWorkout.load_workout()'}
      = link_to('New Workout','#', 'ng-click': 'resistanceWorkout.create_workout()', 'class': 'button medium')
      %div{id: headers, class: "header"}  
        Completed Exercise Weight Units Reps Sets
      %div{'ng-repeat': 'exercise in resistanceWorkout.exercises', class: 'row'}
        %dinv{class: 'small-1 columns'}
          = check_box_tag 'completed', false, false, 'ng-model': 'exercise.completed'
        %div{class: 'small-1 columns'}
          %input{'ng-model': 'exercise.name'}
        %div{class: 'small-1 columns'}
          %input{'ng-model': 'exercise.resistance', required: true}
        %div{class: 'small-1 columns'}
          %input{'ng-model': 'exercise.unit'}
        %div{class: 'small-1 columns'}
          %input{'ng-model': 'exercise.repetitions'}
        %div{class: 'small-1 columns'}
          %input{'ng-model': 'exercise.sets'}
        %div{class: 'small-1 columns'}
          = link_to('save', '#', 'ng-click': 'resistanceWorkout.save(exercise)', 'class': 'button tiny')
        %div{class: 'small-1 columns'}
          = link_to('delete', '#', 'ng-click': 'resistanceWorkout.delete(exercise)', 'class': 'button tiny')
      
      .new
        = submit_tag 'new', 'ng-click': 'resistanceWorkout.create()'  
